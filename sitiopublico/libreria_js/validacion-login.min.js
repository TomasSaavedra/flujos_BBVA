$(document).ready(function(){function e(){function e(){o()}function t(){this.myRegExpCardSubmit=/^[0-9]{16,16}$/;this.myRegExpCardKeyPress=/^[0-9]{0,16}$/;this.myRegExpPassSubmit=/^[a-z0-9]{1,9}$/;this.myRegExpPassKeyPress=/^[a-z0-9]{1,9}$/}function n(){this.validationRules=[{field:cardField,validationRule:myRegExpCardKeyPress}]}function r(){s();f();l()}function s(){this.cardPlaceHolderText=$("#cardPlaceHolderText").html();this.passPlaceHolderText=$("#passPlaceHolderText").html()}function o(){this.cardField=$("#form-client-access #eai_user");this.passwordField=$("#form-client-access #clave");this.submitButton=$("#form-client-access button")}function u(e,t){return t.test(a(e))}function a(e){return e.val()}function f(){cardField.attr("placeholder","");passwordField.attr("placeholder","");var e='<label id="label_card">'+cardPlaceHolderText+"</label>";var t='<label id="label_password">'+passPlaceHolderText+"</label>";cardField.closest("div").append(e);passwordField.closest("div").append(t)}function l(){cardField.bind("focus",function(){if(cardField.val()==""){$(this).css("background-color","white");$("#label_card").css("display","none")}});$("#label_card").bind("click",function(){if(cardField.val()==""){cardField.focus();cardField.val("");cardField.css("background-color","white");$("#label_card").css("display","none")}});passwordField.bind("focus",function(){if(passwordField.val()==""){passwordField.val("");$(this).css("background-color","white");$("#label_password").css("display","none")}});$("#label_password").bind("click",function(){if(passwordField.val()==""){passwordField.focus();passwordField.val("");passwordField.css("background-color","white");$("#label_password").css("display","none")}});cardField.bind("blur",function(){if(cardField.val()==""){$(this).css("background-color","transparent").val("");$("#label_card").css("display","block")}});passwordField.bind("blur",function(){if(passwordField.val()==""){$(this).css("background-color","transparent").val("");$("#label_password").css("display","block")}})}function c(e){cardField.bind("keyup",function(){if(u(cardField,myRegExpCardSubmit)){e.focus()}})}function h(){function e(){submitButton.closest("form").bind("submit",function(){validation=true;validationT=true;if(!u(cardField,myRegExpCardSubmit)){validation=false;validationT=false;errorLabel=cardErrorMessage;fieldToFocus=cardField}if(passwordField.val()!=""){if(!u(passwordField,myRegExpPassSubmit)){if(validationT){validation=false;errorLabel=passwordErrorMessage;if(fieldToFocus==""){fieldToFocus=passwordField}}}}else{validation=false;errorLabel=cardErrorMessage;if(fieldToFocus==""){fieldToFocus=passwordField}}if(!r()){s();if(fieldToFocus!=""){fieldToFocus.focus();fieldToFocus=""}}else{t()}return validation})}function t(){$("#form-client-access").slideUp(200,function(){$(".form-client-access-trigger").removeClass("opened");$(".main-menu").slideUp();$("#form-client-access #clave").val("");$("#form-client-access #eai_user").val("")})}function n(e){for(i=0;i<e.length;i++){o(e[0])}}function r(){return validation}function s(){alert(errorLabel);errorLabel=""}function o(e){$(e.field).bind("keypress",function(e){var t=window.event?window.event.keyCode:e.which;if(t==8){return true}return/\d/.test(String.fromCharCode(t))})}function a(){f();this.validation=true;this.errorLabel="";this.fieldToFocus=""}function f(){this.cardErrorMessage=$("#validationCardMessage").html();this.passwordErrorMessage=$("#validationPassMessage").html()}a();e();n(validationRules)}e();t();n();if(navigator.appVersion.indexOf("MSIE")!=-1){r()}h();c(passwordField)}e()})